@model IList<Model.DTO.DistrictDTO>
@{
	string username = (Session["user"] as Model.DTO.UserDTO).UserName;
}
@Styles.Render("~/Content/AutoParkCustomStyles.css")
<div>
	<div class="page-header"><h1>@Resources.Resource.Greeting,<small>@username</small></h1></div>
	<div class="panel panel-info">
		<div class="panel-heading"><h3 class="panel-title">@Resources.Resource.Districts</h3></div>
		<div class="panel-body">
			<div id="map"></div>
		</div>
		<div class="panel-footer">
			<form id="non-deleted-form" class="form-inline">
				<div class="form-group">
					<a class="btn btn-warning" onclick="jsController.DistrictBasket(this)"><span class="glyphicon glyphicon-th-list" aria-hidden="true">&nbsp;</span>@Resources.Resource.DistrictBasket</a>
					<input type="text" class="form-control input-sm" placeholder="@Resources.Resource.Search" oninput="jsController.searchDistricts(this.value);" id="searcDhistrictName" value="" />
				</div>
			</form>
		</div>
		<div class="table-list">
			<div id="districtTableResponsive" class="table-responsive">
				<table class="table table-striped" id="districtEditTable">
					<thead>
						<tr class="info">
							<th><a id="carlink" href="#" class="btn-link" onclick="jsController.sortDistrictBy('name')">@Resources.Resource.District</a></th>
							<th>@Resources.Resource.Action</th>
						</tr>
					</thead>
					<tbody>
						<script id="dsEditRow" type="text/x-handlebars-template">
							{{#each items}}
							<tr>
								<td>{{Name}}</td>
								<td>
									<div class="btn-group">
										<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">@Resources.Resource.ActionsColumn <span class="caret"></span></button>
										<ul class="dropdown-menu">
											<li>
												<a href="#" data-items-id="{{Id}}" data-items-name="{{Name}}" role="button" onclick="jsController.editItem(this)"><span class="glyphicon glyphicon-cog" aria-hidden="true">&nbsp;</span>@Resources.Resource.editString</a>
											</li>
											<li role="separator" class="divider"></li>
											<li>
												<a href="#" data-items-id="{{Id}}" data-items-name="{{Name}}" role="button" onclick="jsController.deleteItem(this)"><span class="glyphicon glyphicon-trash" aria-hidden="true">&nbsp;</span>@Resources.Resource.deleteString</a>
											</li>
										</ul>
									</div>
								</td>
							</tr>
							{{/each}}
						</script>
					</tbody>
				</table>
				@Html.Partial("_DeleteDistrictP", Model)
				@Html.Partial("_EditDistrictP", Model)
				@Html.Partial("_AddDistrictP", Model)
				@Html.Partial("_DeletedListP", Model)
				@Html.Partial("_ErrorDistrictPartial", Model)
			</div>
		</div>
	</div>
</div>


<script src="https://maps.googleapis.com/maps/api/js?libraries=drawing&sensor=false" ></script>
<script type="text/javascript"  src="http://google-maps-utility-library-v3.googlecode.com/svn/tags/markerwithlabel/1.1.5/src/markerwithlabel_packed.js"></script>

<script>
	var encodedData = @Html.Raw(Json.Encode(Model.ToList()));
	var encodedDeleted = @Html.Raw(Json.Encode(Model.ToList()));
</script>
@Scripts.Render("~/bundles/DistrictCustomScripts")


