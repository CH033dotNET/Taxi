@{
    ViewBag.Title = "DriverOrders";
}

<script src="~/Scripts/handlebars.min.js"></script>


<!--
    Messages
-->

<script src="~/Scripts/jquery-1.8.2.min.js"></script>
<script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>


<div class="main">
    <input id="txtRoleId" type="hidden" value="@((Session["User"] as Model.DTO.UserDTO).RoleId)" />

    <div id="chatBody">
        <div id="inputForm">
            <input type="text" id="message" />
            <input type="button" id="sendmessage" value="Send a message to Operators" />
        </div>
    </div>
</div>


<script src="~/signalr/hubs"></script>

<!--
    End messages
-->



<div class="modal fade" id="Asign">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header" style=" background-color: #5cb85c; border-color: #4cae4c; color: white;">
                <button class="close" type="button" data-dismiss="modal">&times;</button>
                <center> <h2 class="modal-title" >@Resources.Resource.TakeOrder</h2> </center>
            </div>
            <div class="modal-body" style="background-color:whitesmoke">
                    <table>
                        <tr class="form-group">
                            <td>
                            <label style="font-size:x-large;">@Resources.Resource.TimeFromOrder</label>
                            </td>
                            <td> 
                                <input type="text" style="background-color:lightgray;" id="timetotravel"/>
                            </td>
                        </tr>
                     </table>
            </div>      
            <div class="modal-footer" style="background-color:whitesmoke">
                <button class="btn btn-success" type="button" data-dismiss="modal" onclick="Assign();">@Resources.Resource.Confirm</button>
                 <button class="btn btn-danger" type="button" data-dismiss="modal">@Resources.Resource.cancelButton</button>
            </div>
        </div> 
    </div> 
</div>

<div class="modal fade" id="successDriverOrder">
    <div class="modal-dialog modal-md" >
        <div class="modal-content" style="background-color:#006400">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <center> <h1 style="color:aliceblue">@Resources.Resource.ConfirmRequest</h1></center>
            <div class="modal-footer" style="border-color:#006400">
                <button class="btn btn-md pull-right" style="background-color:aliceblue; color:green" data-dismiss="modal">@Resources.Resource.okString</button>
            </div>
    </div>
</div>
    </div>

<div class="modal fade" id="deniedDriverOrder">
    <div class="modal-dialog modal-md">
        <div class="modal-content" style="background-color: #C33030;color: white">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <center><h1>@Resources.Resource.DeniedToDriver</h1></center>
            <div class="modal-footer" style="border-color: #C33030">
                <button class="btn btn-md pull-right" style="color:#fff; background-color:#68424A" data-dismiss="modal">@Resources.Resource.okString</button>
            </div>
        </div>
    </div>
</div>

<script id="template-article" type="text/x-handlebars-template">
    
    <table class="table">

        <tr>
            <th> @Resources.Resource.OrderTime </th>
            <th> @Resources.Resource.PeekPlace</th>
            <th> @Resources.Resource.DropPlace </th>
            <th> @Resources.Resource.Action</th>
        </tr>

        {{#each orders}}
        <tr>
            <td>{{PrettifyDate OrderTime}}</td>
            <td>{{PeekPlace}}</td>
            <td>{{DropPlace}}</td>
            <td> <button type="button" class="submitButton btn btn-success" data-orderid="{{Id}}" data-toggle="modal" data-target="#Asign" onclick="saveOrderId(this)">@Resources.Resource.Confirm</button> </td>
        </tr>
        {{/each}}

    </table>
</script>
<div id="DrOrder"></div>

<button type="button" class="btn successDriverOrder" style="display:none" data-toggle="modal" data-target="#successDriverOrder"></button>
<button type="button" class="btn deniedDriverOrder" style="display:none" data-toggle="modal" data-target="#deniedDriverOrder"></button>
<script type="text/javascript" src="~/Scripts/OperatorCommand/DriverCommand.js"></script>
<script src="~/Scripts/HandlebarsCustomHelpers.js"></script>
